{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeGestureHandler","_reactNativeReanimated","_ThemeContext","_this","_jsxFileName","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ImageGalleryOverlay","props","animatedBottomSheetIndex","closeGridView","currentBottomSheetIndex","_useTheme","useTheme","_useTheme$theme","theme","overlayColor","colors","overlay","imageGallery","grid","_useState","useState","_useState2","_slicedToArray2","visible","setVisible","_useState3","_useState4","fadedIn","setFadedIn","opacity","useSharedValue","useEffect","value","withTiming","duration","easing","Easing","out","ease","runOnJS","showOverlayStyle","useAnimatedStyle","tapEvent","event","nativeEvent","state","State","END","createElement","TapGestureHandler","maxDeltaX","maxDeltaY","onHandlerStateChange","testID","__self","__source","fileName","lineNumber","columnNumber","View","style","StyleSheet","absoluteFillObject","backgroundColor","exports","displayName"],"sources":["ImageGalleryOverlay.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { StyleSheet, ViewStyle } from 'react-native';\nimport {\n  State,\n  TapGestureHandler,\n  TapGestureHandlerStateChangeEvent,\n} from 'react-native-gesture-handler';\nimport Animated, {\n  Easing,\n  runOnJS,\n  useAnimatedStyle,\n  useSharedValue,\n  withTiming,\n} from 'react-native-reanimated';\n\nimport { useTheme } from '../../../contexts/themeContext/ThemeContext';\n\ntype Props = {\n  animatedBottomSheetIndex: Animated.SharedValue<number>;\n  closeGridView: () => void;\n  currentBottomSheetIndex: number;\n};\n\nexport const ImageGalleryOverlay: React.FC<Props> = (props) => {\n  const { animatedBottomSheetIndex, closeGridView, currentBottomSheetIndex } = props;\n\n  const {\n    theme: {\n      colors: { overlay: overlayColor },\n      imageGallery: {\n        grid: { overlay },\n      },\n    },\n  } = useTheme();\n\n  const [visible, setVisible] = useState(false);\n  const [fadedIn, setFadedIn] = useState(false);\n\n  const opacity = useSharedValue(0);\n\n  useEffect(() => {\n    if (currentBottomSheetIndex > 0) {\n      setVisible(true);\n      opacity.value = withTiming(\n        1,\n        {\n          duration: 200,\n          easing: Easing.out(Easing.ease),\n        },\n        () => runOnJS(setFadedIn)(true),\n      );\n    } else {\n      setVisible(false);\n      opacity.value = 0;\n      setFadedIn(false);\n    }\n  }, [currentBottomSheetIndex]);\n\n  const showOverlayStyle = useAnimatedStyle<ViewStyle>(\n    () => ({\n      opacity: fadedIn ? animatedBottomSheetIndex.value : opacity.value,\n    }),\n    [fadedIn],\n  );\n\n  const tapEvent = (event: TapGestureHandlerStateChangeEvent) => {\n    if (event.nativeEvent.state === State.END) {\n      closeGridView();\n    }\n  };\n\n  if (!visible) {\n    return null;\n  }\n\n  return (\n    <TapGestureHandler\n      maxDeltaX={16}\n      maxDeltaY={16}\n      onHandlerStateChange={tapEvent}\n      testID='image-gallery-overlay'\n    >\n      <Animated.View\n        style={[\n          StyleSheet.absoluteFillObject,\n          { backgroundColor: overlayColor },\n          overlay,\n          showOverlayStyle,\n        ]}\n      />\n    </TapGestureHandler>\n  );\n};\n\nImageGalleryOverlay.displayName = 'ImageGrid{imageGallery{grid{overlay}}}';\n"],"mappings":"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"}