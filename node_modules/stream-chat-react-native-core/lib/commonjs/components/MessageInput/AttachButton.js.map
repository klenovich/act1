{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_AttachmentPickerContext","_ChannelContext","_ThemeContext","_Attach","_this","_jsxFileName","AttachButtonWithContext","props","disabled","handleOnPress","selectedPicker","_useTheme","useTheme","_useTheme$theme","theme","_useTheme$theme$color","colors","accent_blue","grey","attachButton","messageInput","createElement","Pressable","onPress","style","testID","__self","__source","fileName","lineNumber","columnNumber","Attach","pathFill","areEqual","prevProps","nextProps","prevDisabled","prevHandleOnPress","prevSelectedPicker","nextDisabled","nextHandleOnPress","nextSelectedPicker","disabledEqual","handleOnPressEqual","selectedPickerEqual","MemoizedAttachButton","React","memo","AttachButton","_useChannelContext","useChannelContext","_useChannelContext$di","_useAttachmentPickerC","useAttachmentPickerContext","_extends2","exports","displayName"],"sources":["AttachButton.tsx"],"sourcesContent":["import React from 'react';\nimport type { GestureResponderEvent } from 'react-native';\nimport { Pressable } from 'react-native';\n\nimport { useAttachmentPickerContext } from '../../contexts/attachmentPickerContext/AttachmentPickerContext';\nimport {\n  ChannelContextValue,\n  useChannelContext,\n} from '../../contexts/channelContext/ChannelContext';\nimport { useTheme } from '../../contexts/themeContext/ThemeContext';\nimport { Attach } from '../../icons/Attach';\n\nimport type { DefaultStreamChatGenerics } from '../../types/types';\n\ntype AttachButtonPropsWithContext<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = Pick<ChannelContextValue<StreamChatGenerics>, 'disabled'> & {\n  /** Function that opens attachment options bottom sheet */\n  handleOnPress?: ((event: GestureResponderEvent) => void) & (() => void);\n  selectedPicker?: 'images';\n};\n\nconst AttachButtonWithContext = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  props: AttachButtonPropsWithContext<StreamChatGenerics>,\n) => {\n  const { disabled, handleOnPress, selectedPicker } = props;\n  const {\n    theme: {\n      colors: { accent_blue, grey },\n      messageInput: { attachButton },\n    },\n  } = useTheme();\n\n  return (\n    <Pressable\n      disabled={disabled}\n      onPress={disabled ? () => null : handleOnPress}\n      style={[attachButton]}\n      testID='attach-button'\n    >\n      <Attach pathFill={selectedPicker === 'images' ? accent_blue : grey} />\n    </Pressable>\n  );\n};\n\nconst areEqual = <StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics>(\n  prevProps: AttachButtonPropsWithContext<StreamChatGenerics>,\n  nextProps: AttachButtonPropsWithContext<StreamChatGenerics>,\n) => {\n  const {\n    disabled: prevDisabled,\n    handleOnPress: prevHandleOnPress,\n    selectedPicker: prevSelectedPicker,\n  } = prevProps;\n  const {\n    disabled: nextDisabled,\n    handleOnPress: nextHandleOnPress,\n    selectedPicker: nextSelectedPicker,\n  } = nextProps;\n\n  const disabledEqual = prevDisabled === nextDisabled;\n  if (!disabledEqual) return false;\n\n  const handleOnPressEqual = prevHandleOnPress === nextHandleOnPress;\n  if (!handleOnPressEqual) return false;\n\n  const selectedPickerEqual = prevSelectedPicker === nextSelectedPicker;\n  if (!selectedPickerEqual) return false;\n\n  return true;\n};\n\nconst MemoizedAttachButton = React.memo(\n  AttachButtonWithContext,\n  areEqual,\n) as typeof AttachButtonWithContext;\n\nexport type AttachButtonProps<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = Partial<AttachButtonPropsWithContext<StreamChatGenerics>>;\n\n/**\n * UI Component for attach button in MessageInput component.\n */\nexport const AttachButton = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  props: AttachButtonProps<StreamChatGenerics>,\n) => {\n  const { disabled = false } = useChannelContext<StreamChatGenerics>();\n  const { selectedPicker } = useAttachmentPickerContext();\n\n  return <MemoizedAttachButton {...{ disabled, selectedPicker }} {...props} />;\n};\n\nAttachButton.displayName = 'AttachButton{messageInput}';\n"],"mappings":"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"}