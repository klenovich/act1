{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_ChannelContext","_SuggestionsContext","_ThemeContext","_Lightning","_this","_jsxFileName","CommandsButtonWithContext","props","disabled","handleOnPress","suggestions","_useTheme","useTheme","_useTheme$theme","theme","_useTheme$theme$color","colors","accent_blue","grey","commandsButton","messageInput","createElement","Pressable","onPress","style","testID","__self","__source","fileName","lineNumber","columnNumber","Lightning","pathFill","data","some","suggestion","isSuggestionCommand","areEqual","prevProps","nextProps","prevDisabled","prevSuggestions","nextDisabled","nextSuggestions","disabledEqual","suggestionsEqual","MemoizedCommandsButton","React","memo","CommandsButton","_useChannelContext","useChannelContext","_useChannelContext$di","_useSuggestionsContex","useSuggestionsContext","_extends2","exports","displayName"],"sources":["CommandsButton.tsx"],"sourcesContent":["import React from 'react';\nimport type { GestureResponderEvent } from 'react-native';\nimport { Pressable } from 'react-native';\n\nimport {\n  ChannelContextValue,\n  useChannelContext,\n} from '../../contexts/channelContext/ChannelContext';\nimport {\n  isSuggestionCommand,\n  SuggestionsContextValue,\n  useSuggestionsContext,\n} from '../../contexts/suggestionsContext/SuggestionsContext';\nimport { useTheme } from '../../contexts/themeContext/ThemeContext';\nimport { Lightning } from '../../icons/Lightning';\n\nimport type { DefaultStreamChatGenerics } from '../../types/types';\n\ntype CommandsButtonPropsWithContext<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = Pick<ChannelContextValue<StreamChatGenerics>, 'disabled'> &\n  Pick<SuggestionsContextValue<StreamChatGenerics>, 'suggestions'> & {\n    /** Function that opens commands selector */\n    handleOnPress?: ((event: GestureResponderEvent) => void) & (() => void);\n  };\n\nconst CommandsButtonWithContext = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  props: CommandsButtonPropsWithContext<StreamChatGenerics>,\n) => {\n  const { disabled, handleOnPress, suggestions } = props;\n\n  const {\n    theme: {\n      colors: { accent_blue, grey },\n      messageInput: { commandsButton },\n    },\n  } = useTheme();\n\n  return (\n    <Pressable\n      disabled={disabled}\n      onPress={handleOnPress}\n      style={[commandsButton]}\n      testID='commands-button'\n    >\n      <Lightning\n        pathFill={\n          suggestions && suggestions.data.some((suggestion) => isSuggestionCommand(suggestion))\n            ? accent_blue\n            : grey\n        }\n      />\n    </Pressable>\n  );\n};\n\nconst areEqual = <StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics>(\n  prevProps: CommandsButtonPropsWithContext<StreamChatGenerics>,\n  nextProps: CommandsButtonPropsWithContext<StreamChatGenerics>,\n) => {\n  const { disabled: prevDisabled, suggestions: prevSuggestions } = prevProps;\n  const { disabled: nextDisabled, suggestions: nextSuggestions } = nextProps;\n\n  const disabledEqual = prevDisabled === nextDisabled;\n  if (!disabledEqual) return false;\n\n  const suggestionsEqual = !!prevSuggestions === !!nextSuggestions;\n  if (!suggestionsEqual) return false;\n\n  return true;\n};\n\nconst MemoizedCommandsButton = React.memo(\n  CommandsButtonWithContext,\n  areEqual,\n) as typeof CommandsButtonWithContext;\n\nexport type CommandsButtonProps<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = Partial<CommandsButtonPropsWithContext<StreamChatGenerics>>;\n\n/**\n * UI Component for attach button in MessageInput component.\n */\nexport const CommandsButton = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  props: CommandsButtonProps<StreamChatGenerics>,\n) => {\n  const { disabled = false } = useChannelContext<StreamChatGenerics>();\n  const { suggestions } = useSuggestionsContext<StreamChatGenerics>();\n\n  return <MemoizedCommandsButton {...{ disabled, suggestions }} {...props} />;\n};\n\nCommandsButton.displayName = 'CommandsButton{messageInput}';\n"],"mappings":"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"}