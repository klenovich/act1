{"version":3,"names":["_parseLinks","require","describe","it","each","undefined","link","expected","_result$","result","parseLinksFromText","expect","encodedUrl","toBe","input","toEqual","raw","email","console","log","toHaveLength"],"sources":["parseLinks.test.ts"],"sourcesContent":["import { parseLinksFromText } from './parseLinks';\n\ndescribe('parseLinksFromText', () => {\n  it.each([\n    ['https://www.getstream.io', 'https://www.getstream.io'],\n    ['https://getstream.io', 'https://getstream.io'],\n    ['scrn://team-chat', undefined],\n    ['https://localhost', 'https://localhost'],\n    [\n      'https://localhost/with/path?and=query&multiple=params',\n      'https://localhost/with/path?and=query&multiple=params',\n    ],\n    [\n      'https://localhost/with/path?and=query#fragment',\n      'https://localhost/with/path?and=query#fragment',\n    ],\n    ['reactnative.dev', 'http://reactnative.dev'],\n    ['hinge.health/schedule-with-a-coach', 'http://hinge.health/schedule-with-a-coach'],\n    [\n      'https://zh.wikipedia.org/wiki/挪威牛油危機',\n      'https://zh.wikipedia.org/wiki/%E6%8C%AA%E5%A8%81%E7%89%9B%E6%B2%B9%E5%8D%B1%E6%A9%9F',\n    ],\n    [\n      'https://getstream.io/chat/docs/react-native/?language=javascript',\n      'https://getstream.io/chat/docs/react-native/?language=javascript',\n    ],\n    ['127.0.0.1/local_(development)_server', undefined],\n    ['https://a.co:8999/ab.php?p=12', 'https://a.co:8999/ab.php?p=12'],\n    [\n      'https://help.apple.com/xcode/mac/current/#/devba7f53ad4',\n      'https://help.apple.com/xcode/mac/current/#/devba7f53ad4',\n    ],\n  ])('Returns the encoded value of %p as %p', (link, expected) => {\n    const result = parseLinksFromText(link);\n    expect(result[0]?.encodedUrl).toBe(expected);\n  });\n  it('parses fqdn', () => {\n    const input = `We have put the apim bol,\n  temporarily so :sj: we can later put the monitors on my grasp\n  on reality right now is\n  https://www.contrived-example.com:8080/sub/page.php?p1=1🇳🇴&p2=2#fragment-identifier\n  :)`;\n    const result = parseLinksFromText(input);\n    expect(result).toEqual([\n      {\n        encodedUrl:\n          'https://www.contrived-example.com:8080/sub/page.php?p1=1%F0%9F%87%B3%F0%9F%87%B4&p2=2#fragment-identifier',\n        raw: 'https://www.contrived-example.com:8080/sub/page.php?p1=1🇳🇴&p2=2#fragment-identifier',\n      },\n    ]);\n  });\n  it.each([\n    ['support+rn@getstream.io'],\n    ['support.rn@getstream.io'],\n    ['support-rn@getstream.io'],\n    ['support_rn@getstream.io'],\n  ])('Can parse the email address %p', (email) => {\n    const result = parseLinksFromText(email);\n    expect(result[0].encodedUrl).toBe('mailto:' + email);\n    expect(result[0].raw).toBe(email);\n  });\n  it(\"doesn't double the mailto prefix\", () => {\n    const input = 'mailto:support@getstream.io';\n    const result = parseLinksFromText(input);\n    expect(result[0]).toEqual({\n      encodedUrl: input,\n      raw: input,\n    });\n  });\n  it('Does not falsely parse LINKs from text content', () => {\n    const input = `#This string exists to test that we don't produce false positives\n  Existing links:\n  [already a parsed link](https://getstream.io/blog/react-native-how-to-build-bidirectional-infinite-scroll/)\n  [even a bogus one]( should not match )\n  ## These should, however, be parsed:\n  www.getstream.io\n  getstream.io\n  `;\n    const result = parseLinksFromText(input);\n    console.log({ result });\n    expect(result).toHaveLength(2);\n  });\n  it('Encodes incomplete emoji unicode', () => {\n    const input = 'https://getstream.io/�';\n    const result = parseLinksFromText(input);\n    expect(result[0]).toEqual({\n      encodedUrl: 'https://getstream.io/%EF%BF%BD',\n      raw: input,\n    });\n  });\n});\n"],"mappings":"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"}