{"version":3,"names":["_MessageOverlayContext","require","_TranslationContext","useTranslatedMessage","message","_messageOverlayContex","_useTranslationContex","useTranslationContext","translationContextUserLanguage","userLanguage","messageOverlayContextValue","useMessageOverlayContext","data","translationKey","i18n","type","_extends2","text","exports"],"sources":["useTranslatedMessage.ts"],"sourcesContent":["import type { FormatMessageResponse, MessageResponse, TranslationLanguages } from 'stream-chat';\n\nimport { useMessageOverlayContext } from '../contexts/messageOverlayContext/MessageOverlayContext';\nimport { useTranslationContext } from '../contexts/translationContext/TranslationContext';\nimport type { DefaultStreamChatGenerics } from '../types/types';\n\ntype TranslationKey = `${TranslationLanguages}_text`;\n\nexport const useTranslatedMessage = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  message: MessageResponse<StreamChatGenerics> | FormatMessageResponse<StreamChatGenerics>,\n) => {\n  const { userLanguage: translationContextUserLanguage } = useTranslationContext();\n  const messageOverlayContextValue = useMessageOverlayContext<StreamChatGenerics>();\n\n  const userLanguage =\n    messageOverlayContextValue.data?.userLanguage || translationContextUserLanguage;\n\n  const translationKey: TranslationKey = `${userLanguage}_text`;\n\n  if (message.i18n && translationKey in message.i18n && message.type !== 'deleted') {\n    return {\n      ...message,\n      text: message.i18n[translationKey],\n    };\n  }\n\n  return { ...message };\n};\n"],"mappings":";;;;;;AAEA,IAAAA,sBAAA,GAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAD,OAAA;AAKO,IAAME,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAG/BC,OAAwF,EACrF;EAAA,IAAAC,qBAAA;EACH,IAAAC,qBAAA,GAAyD,IAAAC,yCAAqB,EAAC,CAAC;IAA1DC,8BAA8B,GAAAF,qBAAA,CAA5CG,YAAY;EACpB,IAAMC,0BAA0B,GAAG,IAAAC,+CAAwB,EAAqB,CAAC;EAEjF,IAAMF,YAAY,GAChB,EAAAJ,qBAAA,GAAAK,0BAA0B,CAACE,IAAI,qBAA/BP,qBAAA,CAAiCI,YAAY,KAAID,8BAA8B;EAEjF,IAAMK,cAA8B,GAAMJ,YAAY,UAAO;EAE7D,IAAIL,OAAO,CAACU,IAAI,IAAID,cAAc,IAAIT,OAAO,CAACU,IAAI,IAAIV,OAAO,CAACW,IAAI,KAAK,SAAS,EAAE;IAChF,WAAAC,SAAA,iBACKZ,OAAO;MACVa,IAAI,EAAEb,OAAO,CAACU,IAAI,CAACD,cAAc;IAAC;EAEtC;EAEA,WAAAG,SAAA,iBAAYZ,OAAO;AACrB,CAAC;AAACc,OAAA,CAAAf,oBAAA,GAAAA,oBAAA"}