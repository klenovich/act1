{"version":3,"names":["_betterSqlite","_interopRequireDefault","require","_schema","BetterSqlite","_createClass2","_classCallCheck2","db","exports","openDB","Database","closeDB","close","getTables","tablesInDb","pragma","dropAllTables","tableNames","Object","keys","tables","forEach","name","stmt","prepare","run","selectFromTable","table","result","all"],"sources":["BetterSqlite.js"],"sourcesContent":["import Database from 'better-sqlite3';\n\nimport { tables } from '../store/schema';\n\nexport class BetterSqlite {\n  db = null;\n\n  static openDB = () => {\n    this.db = new Database('foobar.db');\n  };\n\n  static closeDB = () => {\n    this.db.close();\n  };\n\n  static getTables = () => {\n    this.openDB();\n    const tablesInDb = this.db.pragma(`table_list;`);\n    this.closeDB();\n\n    return tablesInDb;\n  };\n\n  static dropAllTables = () => {\n    this.openDB();\n    const tableNames = Object.keys(tables);\n\n    tableNames.forEach((name) => {\n      const stmt = this.db.prepare(`DROP TABLE IF EXISTS ${name}`);\n      stmt.run();\n    });\n\n    this.closeDB();\n  };\n\n  static selectFromTable = (table) => {\n    this.openDB();\n    const stmt = this.db.prepare(`SELECT * FROM ${table}`);\n    const result = stmt.all();\n    this.closeDB();\n\n    return result;\n  };\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,OAAA,GAAAD,OAAA;AAAyC,IAE5BE,YAAY,OAAAC,aAAA,sBAAAD,aAAA;EAAA,IAAAE,gBAAA,mBAAAF,YAAA;EAAA,KACvBG,EAAE,GAAG,IAAI;AAAA;AAAAC,OAAA,CAAAJ,YAAA,GAAAA,YAAA;AADEA,YAAY,CAGhBK,MAAM,GAAG,YAAM;EAHXL,YAAY,CAIhBG,EAAE,GAAG,IAAIG,wBAAQ,CAAC,WAAW,CAAC;AACrC,CAAC;AALUN,YAAY,CAOhBO,OAAO,GAAG,YAAM;EAPZP,YAAY,CAQhBG,EAAE,CAACK,KAAK,CAAC,CAAC;AACjB,CAAC;AATUR,YAAY,CAWhBS,SAAS,GAAG,YAAM;EAXdT,YAAY,CAYhBK,MAAM,CAAC,CAAC;EACb,IAAMK,UAAU,GAbPV,YAAY,CAaGG,EAAE,CAACQ,MAAM,cAAc,CAAC;EAbvCX,YAAY,CAchBO,OAAO,CAAC,CAAC;EAEd,OAAOG,UAAU;AACnB,CAAC;AAjBUV,YAAY,CAmBhBY,aAAa,GAAG,YAAM;EAnBlBZ,YAAY,CAoBhBK,MAAM,CAAC,CAAC;EACb,IAAMQ,UAAU,GAAGC,MAAM,CAACC,IAAI,CAACC,cAAM,CAAC;EAEtCH,UAAU,CAACI,OAAO,CAAC,UAACC,IAAI,EAAK;IAC3B,IAAMC,IAAI,GAxBHnB,YAAY,CAwBDG,EAAE,CAACiB,OAAO,2BAAyBF,IAAM,CAAC;IAC5DC,IAAI,CAACE,GAAG,CAAC,CAAC;EACZ,CAAC,CAAC;EA1BOrB,YAAY,CA4BhBO,OAAO,CAAC,CAAC;AAChB,CAAC;AA7BUP,YAAY,CA+BhBsB,eAAe,GAAG,UAACC,KAAK,EAAK;EA/BzBvB,YAAY,CAgChBK,MAAM,CAAC,CAAC;EACb,IAAMc,IAAI,GAjCDnB,YAAY,CAiCHG,EAAE,CAACiB,OAAO,oBAAkBG,KAAO,CAAC;EACtD,IAAMC,MAAM,GAAGL,IAAI,CAACM,GAAG,CAAC,CAAC;EAlChBzB,YAAY,CAmChBO,OAAO,CAAC,CAAC;EAEd,OAAOiB,MAAM;AACf,CAAC"}