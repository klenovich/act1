{"version":3,"names":["_react","_interopRequireWildcard","require","_defaultBaseContextValue","_getDisplayName","_isTestEnvironment","_this","_jsxFileName","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ImageGalleryContext","React","createContext","DEFAULT_BASE_CONTEXT_VALUE","exports","ImageGalleryProvider","_ref","children","_useState","useState","_useState2","_slicedToArray2","messages","setMessages","_useState3","_useState4","selectedMessage","setSelectedMessage","createElement","Provider","value","__self","__source","fileName","lineNumber","columnNumber","useImageGalleryContext","contextValue","useContext","isTestEnvironment","Error","withImageGalleryContext","Component","WithImageGalleryContextComponent","props","imageGalleryContext","_extends2","displayName","getDisplayName"],"sources":["ImageGalleryContext.tsx"],"sourcesContent":["import React, { PropsWithChildren, useContext, useState } from 'react';\n\nimport type { MessageType } from '../../components/MessageList/hooks/useMessageList';\nimport type { DefaultStreamChatGenerics, UnknownType } from '../../types/types';\nimport { DEFAULT_BASE_CONTEXT_VALUE } from '../utils/defaultBaseContextValue';\n\nimport { getDisplayName } from '../utils/getDisplayName';\nimport { isTestEnvironment } from '../utils/isTestEnvironment';\n\ntype SelectedMessage = {\n  messageId?: string;\n  url?: string;\n};\n\nexport type ImageGalleryContextValue<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = {\n  messages: MessageType<StreamChatGenerics>[];\n  setMessages: React.Dispatch<React.SetStateAction<MessageType<StreamChatGenerics>[]>>;\n  setSelectedMessage: React.Dispatch<React.SetStateAction<SelectedMessage | undefined>>;\n  selectedMessage?: SelectedMessage;\n};\n\nexport const ImageGalleryContext = React.createContext(\n  DEFAULT_BASE_CONTEXT_VALUE as ImageGalleryContextValue,\n);\n\nexport const ImageGalleryProvider = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>({\n  children,\n}: PropsWithChildren<UnknownType>) => {\n  const [messages, setMessages] = useState<MessageType<StreamChatGenerics>[]>([]);\n  const [selectedMessage, setSelectedMessage] = useState<SelectedMessage>();\n\n  return (\n    <ImageGalleryContext.Provider\n      value={\n        {\n          messages,\n          selectedMessage,\n          setMessages,\n          setSelectedMessage,\n        } as unknown as ImageGalleryContextValue\n      }\n    >\n      {children}\n    </ImageGalleryContext.Provider>\n  );\n};\n\nexport const useImageGalleryContext = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>() => {\n  const contextValue = useContext(\n    ImageGalleryContext,\n  ) as unknown as ImageGalleryContextValue<StreamChatGenerics>;\n\n  if (contextValue === DEFAULT_BASE_CONTEXT_VALUE && !isTestEnvironment()) {\n    throw new Error(\n      `The useImageGalleryContext hook was called outside the ImageGalleryContext Provider. Make sure you have configured OverlayProvider component correctly - https://getstream.io/chat/docs/sdk/reactnative/basics/hello_stream_chat/#overlay-provider`,\n    );\n  }\n\n  return contextValue as ImageGalleryContextValue<StreamChatGenerics>;\n};\n\nexport const withImageGalleryContext = <\n  P extends UnknownType,\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  Component: React.ComponentType<P>,\n): React.FC<Omit<P, keyof ImageGalleryContextValue<StreamChatGenerics>>> => {\n  const WithImageGalleryContextComponent = (\n    props: Omit<P, keyof ImageGalleryContextValue<StreamChatGenerics>>,\n  ) => {\n    const imageGalleryContext = useImageGalleryContext<StreamChatGenerics>();\n\n    return <Component {...(props as P)} {...imageGalleryContext} />;\n  };\n  WithImageGalleryContextComponent.displayName = `WithImageGalleryContext${getDisplayName(\n    Component,\n  )}`;\n  return WithImageGalleryContextComponent;\n};\n"],"mappings":"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"}