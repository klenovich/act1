{"version":3,"names":["_mapDateTimeToStorable","require","mapReadToStorable","_ref","cid","read","last_read","unread_messages","user","lastRead","mapDateTimeToStorable","unreadMessages","userId","id","exports"],"sources":["mapReadToStorable.ts"],"sourcesContent":["import type { ReadResponse } from 'stream-chat';\n\nimport { mapDateTimeToStorable } from './mapDateTimeToStorable';\n\nimport type { DefaultStreamChatGenerics } from '../../types/types';\nimport type { TableRow } from '../types';\n\nexport const mapReadToStorable = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>({\n  cid,\n  read,\n}: {\n  cid: string;\n  read: ReadResponse<StreamChatGenerics>;\n}): TableRow<'reads'> => {\n  const { last_read, unread_messages, user } = read;\n\n  return {\n    cid,\n    lastRead: mapDateTimeToStorable(last_read),\n    unreadMessages: unread_messages,\n    userId: user?.id,\n  };\n};\n"],"mappings":";;;;AAEA,IAAAA,sBAAA,GAAAC,OAAA;AAKO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAAC,IAAA,EAQL;EAAA,IALvBC,GAAG,GAAAD,IAAA,CAAHC,GAAG;IACHC,IAAI,GAAAF,IAAA,CAAJE,IAAI;EAKJ,IAAQC,SAAS,GAA4BD,IAAI,CAAzCC,SAAS;IAAEC,eAAe,GAAWF,IAAI,CAA9BE,eAAe;IAAEC,IAAI,GAAKH,IAAI,CAAbG,IAAI;EAExC,OAAO;IACLJ,GAAG,EAAHA,GAAG;IACHK,QAAQ,EAAE,IAAAC,4CAAqB,EAACJ,SAAS,CAAC;IAC1CK,cAAc,EAAEJ,eAAe;IAC/BK,MAAM,EAAEJ,IAAI,oBAAJA,IAAI,CAAEK;EAChB,CAAC;AACH,CAAC;AAACC,OAAA,CAAAZ,iBAAA,GAAAA,iBAAA"}