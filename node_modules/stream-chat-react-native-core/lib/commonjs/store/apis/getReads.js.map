{"version":3,"names":["_selectReadsForChannels","require","_mapStorableToRead","getReads","_ref","channelIds","reads","selectReadsForChannels","cidVsReads","forEach","read","cid","push","mapStorableToRead","exports"],"sources":["getReads.ts"],"sourcesContent":["import type { ReadResponse } from 'stream-chat';\n\nimport { selectReadsForChannels } from './queries/selectReadsForChannels';\n\nimport type { DefaultStreamChatGenerics } from '../../types/types';\nimport { mapStorableToRead } from '../mappers/mapStorableToRead';\n\nexport const getReads = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>({\n  channelIds,\n}: {\n  channelIds: string[];\n}) => {\n  const reads = selectReadsForChannels(channelIds);\n  const cidVsReads: Record<string, ReadResponse<StreamChatGenerics>[]> = {};\n\n  reads.forEach((read) => {\n    if (!cidVsReads[read.cid]) {\n      cidVsReads[read.cid] = [];\n    }\n    cidVsReads[read.cid].push(mapStorableToRead<StreamChatGenerics>(read));\n  });\n\n  return cidVsReads;\n};\n"],"mappings":";;;;AAEA,IAAAA,uBAAA,GAAAC,OAAA;AAGA,IAAAC,kBAAA,GAAAD,OAAA;AAEO,IAAME,QAAQ,GAAG,SAAXA,QAAQA,CAAAC,IAAA,EAMf;EAAA,IAHJC,UAAU,GAAAD,IAAA,CAAVC,UAAU;EAIV,IAAMC,KAAK,GAAG,IAAAC,8CAAsB,EAACF,UAAU,CAAC;EAChD,IAAMG,UAA8D,GAAG,CAAC,CAAC;EAEzEF,KAAK,CAACG,OAAO,CAAC,UAACC,IAAI,EAAK;IACtB,IAAI,CAACF,UAAU,CAACE,IAAI,CAACC,GAAG,CAAC,EAAE;MACzBH,UAAU,CAACE,IAAI,CAACC,GAAG,CAAC,GAAG,EAAE;IAC3B;IACAH,UAAU,CAACE,IAAI,CAACC,GAAG,CAAC,CAACC,IAAI,CAAC,IAAAC,oCAAiB,EAAqBH,IAAI,CAAC,CAAC;EACxE,CAAC,CAAC;EAEF,OAAOF,UAAU;AACnB,CAAC;AAACM,OAAA,CAAAX,QAAA,GAAAA,QAAA"}