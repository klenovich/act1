{"version":3,"names":["_selectMembersForChannels","require","_mapStorableToMember","getMembers","_ref","channelIds","memberRows","selectMembersForChannels","cidVsMembers","forEach","member","cid","push","mapStorableToMember","exports"],"sources":["getMembers.ts"],"sourcesContent":["import type { ChannelMemberResponse } from 'stream-chat';\n\nimport { selectMembersForChannels } from './queries/selectMembersForChannels';\n\nimport type { DefaultStreamChatGenerics } from '../../types/types';\nimport { mapStorableToMember } from '../mappers/mapStorableToMember';\n\nexport const getMembers = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>({\n  channelIds,\n}: {\n  channelIds: string[];\n}) => {\n  const memberRows = selectMembersForChannels(channelIds);\n  const cidVsMembers: Record<string, ChannelMemberResponse<StreamChatGenerics>[]> = {};\n  memberRows.forEach((member) => {\n    if (!cidVsMembers[member.cid]) {\n      cidVsMembers[member.cid] = [];\n    }\n\n    cidVsMembers[member.cid].push(mapStorableToMember<StreamChatGenerics>(member));\n  });\n\n  return cidVsMembers;\n};\n"],"mappings":";;;;AAEA,IAAAA,yBAAA,GAAAC,OAAA;AAGA,IAAAC,oBAAA,GAAAD,OAAA;AAEO,IAAME,UAAU,GAAG,SAAbA,UAAUA,CAAAC,IAAA,EAMjB;EAAA,IAHJC,UAAU,GAAAD,IAAA,CAAVC,UAAU;EAIV,IAAMC,UAAU,GAAG,IAAAC,kDAAwB,EAACF,UAAU,CAAC;EACvD,IAAMG,YAAyE,GAAG,CAAC,CAAC;EACpFF,UAAU,CAACG,OAAO,CAAC,UAACC,MAAM,EAAK;IAC7B,IAAI,CAACF,YAAY,CAACE,MAAM,CAACC,GAAG,CAAC,EAAE;MAC7BH,YAAY,CAACE,MAAM,CAACC,GAAG,CAAC,GAAG,EAAE;IAC/B;IAEAH,YAAY,CAACE,MAAM,CAACC,GAAG,CAAC,CAACC,IAAI,CAAC,IAAAC,wCAAmB,EAAqBH,MAAM,CAAC,CAAC;EAChF,CAAC,CAAC;EAEF,OAAOF,YAAY;AACrB,CAAC;AAACM,OAAA,CAAAX,UAAA,GAAAA,UAAA"}