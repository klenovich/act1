{"version":3,"names":["_QuickSqliteClient","require","_createSelectQuery","selectChannels","_ref","arguments","length","undefined","channelIds","query","createSelectQuery","cid","result","QuickSqliteClient","executeSql","apply","sort","a","b","indexOf","exports"],"sources":["selectChannels.ts"],"sourcesContent":["import { QuickSqliteClient } from '../../QuickSqliteClient';\nimport { createSelectQuery } from '../../sqlite-utils/createSelectQuery';\nimport type { TableRowJoinedUser } from '../../types';\n\nexport const selectChannels = ({\n  channelIds,\n}: { channelIds?: string[] } = {}): TableRowJoinedUser<'channels'>[] => {\n  const query = createSelectQuery(\n    'channels',\n    ['*'],\n    channelIds\n      ? {\n          cid: channelIds,\n        }\n      : undefined,\n  );\n\n  const result = QuickSqliteClient.executeSql.apply(null, query);\n\n  if (channelIds) {\n    return result.sort(\n      (a: { cid: string }, b: { cid: string }) =>\n        channelIds.indexOf(a.cid) - channelIds.indexOf(b.cid),\n    );\n  } else {\n    return result;\n  }\n};\n"],"mappings":";;;;AAAA,IAAAA,kBAAA,GAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAD,OAAA;AAGO,IAAME,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAE6C;EAAA,IAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAzC,CAAC,CAAC;IAD/BG,UAAU,GAAAJ,IAAA,CAAVI,UAAU;EAEV,IAAMC,KAAK,GAAG,IAAAC,oCAAiB,EAC7B,UAAU,EACV,CAAC,GAAG,CAAC,EACLF,UAAU,GACN;IACEG,GAAG,EAAEH;EACP,CAAC,GACDD,SACN,CAAC;EAED,IAAMK,MAAM,GAAGC,oCAAiB,CAACC,UAAU,CAACC,KAAK,CAAC,IAAI,EAAEN,KAAK,CAAC;EAE9D,IAAID,UAAU,EAAE;IACd,OAAOI,MAAM,CAACI,IAAI,CAChB,UAACC,CAAkB,EAAEC,CAAkB;MAAA,OACrCV,UAAU,CAACW,OAAO,CAACF,CAAC,CAACN,GAAG,CAAC,GAAGH,UAAU,CAACW,OAAO,CAACD,CAAC,CAACP,GAAG,CAAC;IAAA,CACzD,CAAC;EACH,CAAC,MAAM;IACL,OAAOC,MAAM;EACf;AACF,CAAC;AAACQ,OAAA,CAAAjB,cAAA,GAAAA,cAAA"}