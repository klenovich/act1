{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_ThemeContext","_TranslationContext","_this","_jsxFileName","styles","StyleSheet","create","container","alignItems","flexDirection","justifyContent","marginBottom","line","flex","height","text","fontSize","fontWeight","textAlign","textContainer","marginTop","MessageSystem","props","_message$text","formatDate","message","style","_useTheme","useTheme","_useTheme$theme","theme","_useTheme$theme$color","colors","grey","grey_whisper","_useTheme$theme$messa","messageList","messageSystem","dateText","_useTranslationContex","useTranslationContext","tDateTimeParser","createdAt","created_at","parsedDate","date","isDayOrMoment","calendar","toUpperCase","createElement","View","testID","__self","__source","fileName","lineNumber","columnNumber","backgroundColor","Text","color","exports","displayName"],"sources":["MessageSystem.tsx"],"sourcesContent":["import React from 'react';\nimport { StyleProp, StyleSheet, Text, View, ViewStyle } from 'react-native';\n\nimport type { MessageType } from './hooks/useMessageList';\n\nimport { useTheme } from '../../contexts/themeContext/ThemeContext';\nimport {\n  isDayOrMoment,\n  TDateTimeParserInput,\n  useTranslationContext,\n} from '../../contexts/translationContext/TranslationContext';\n\nimport type { DefaultStreamChatGenerics } from '../../types/types';\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginBottom: 10,\n  },\n  line: {\n    flex: 1,\n    height: 0.5,\n  },\n  text: {\n    fontSize: 10,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  textContainer: {\n    flex: 3,\n    marginTop: 10,\n  },\n});\n\nexport type MessageSystemProps<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = {\n  /** Current [message object](https://getstream.io/chat/docs/#message_format) */\n  message: MessageType<StreamChatGenerics>;\n  /**\n   * Formatter function for date object.\n   *\n   * @param date TDateTimeParserInput object of message\n   * @returns string\n   */\n  formatDate?: (date: TDateTimeParserInput) => string;\n  style?: StyleProp<ViewStyle>;\n};\n\n/**\n * A component to display system message. e.g, when someone updates the channel,\n * they can attach a message with that update. That message will be available\n * in message list as (type) system message.\n */\nexport const MessageSystem = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  props: MessageSystemProps<StreamChatGenerics>,\n) => {\n  const { formatDate, message, style } = props;\n\n  const {\n    theme: {\n      colors: { grey, grey_whisper },\n      messageList: {\n        messageSystem: { container, dateText, line, text, textContainer },\n      },\n    },\n  } = useTheme();\n  const { tDateTimeParser } = useTranslationContext();\n\n  const createdAt = message.created_at;\n  const parsedDate = tDateTimeParser(createdAt);\n  const date =\n    formatDate && createdAt\n      ? formatDate(createdAt)\n      : parsedDate && isDayOrMoment(parsedDate)\n      ? parsedDate.calendar().toUpperCase()\n      : parsedDate;\n\n  return (\n    <View style={[styles.container, style, container]} testID='message-system'>\n      <View style={[styles.line, { backgroundColor: grey_whisper }, line]} />\n      <View style={[styles.textContainer, textContainer]}>\n        <Text style={[styles.text, { color: grey }, text]}>\n          {message.text?.toUpperCase() || ''}\n        </Text>\n        <Text style={[styles.text, { color: grey }, dateText]}>{date}</Text>\n      </View>\n      <View style={[styles.line, { backgroundColor: grey_whisper }, line]} />\n    </View>\n  );\n};\n\nMessageSystem.displayName = 'MessageSystem{messageList{messageSystem}}';\n"],"mappings":"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"}