{"version":3,"names":["_react","require","_handleEventToSyncDB","useSyncDatabase","_ref","client","enableOfflineSupport","useEffect","listener","on","handleEventToSyncDB","_listener","unsubscribe","exports"],"sources":["useSyncDatabase.ts"],"sourcesContent":["import { useEffect } from 'react';\n\nimport type { StreamChat } from 'stream-chat';\n\nimport { handleEventToSyncDB } from './handleEventToSyncDB';\n\nimport type { DefaultStreamChatGenerics } from '../../../types/types';\n\ntype Params<StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics> = {\n  client: StreamChat<StreamChatGenerics>;\n  enableOfflineSupport: boolean;\n};\nexport const useSyncDatabase = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>({\n  client,\n  enableOfflineSupport,\n}: Params<StreamChatGenerics>) => {\n  useEffect(() => {\n    let listener: ReturnType<StreamChat['on']> | undefined;\n\n    if (enableOfflineSupport) {\n      listener = client?.on(handleEventToSyncDB);\n    }\n\n    return () => {\n      listener?.unsubscribe();\n    };\n  }, [client]);\n};\n"],"mappings":";;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAIA,IAAAC,oBAAA,GAAAD,OAAA;AAQO,IAAME,eAAe,GAAG,SAAlBA,eAAeA,CAAAC,IAAA,EAKM;EAAA,IAFhCC,MAAM,GAAAD,IAAA,CAANC,MAAM;IACNC,oBAAoB,GAAAF,IAAA,CAApBE,oBAAoB;EAEpB,IAAAC,gBAAS,EAAC,YAAM;IACd,IAAIC,QAAkD;IAEtD,IAAIF,oBAAoB,EAAE;MACxBE,QAAQ,GAAGH,MAAM,oBAANA,MAAM,CAAEI,EAAE,CAACC,wCAAmB,CAAC;IAC5C;IAEA,OAAO,YAAM;MAAA,IAAAC,SAAA;MACX,CAAAA,SAAA,GAAAH,QAAQ,qBAARG,SAAA,CAAUC,WAAW,CAAC,CAAC;IACzB,CAAC;EACH,CAAC,EAAE,CAACP,MAAM,CAAC,CAAC;AACd,CAAC;AAACQ,OAAA,CAAAV,eAAA,GAAAA,eAAA"}