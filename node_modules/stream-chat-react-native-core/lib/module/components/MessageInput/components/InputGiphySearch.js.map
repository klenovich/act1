{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_MessageInputContext","_ThemeContext","_icons","_AutoCompleteInput","_useCountdown2","_this","_jsxFileName","styles","StyleSheet","create","autoCompleteInputContainer","alignItems","flexDirection","paddingLeft","paddingRight","giphyContainer","borderRadius","height","marginRight","paddingHorizontal","giphyText","fontSize","fontWeight","InputGiphySearchWithContext","_ref","additionalTextInputProps","cooldownEndsAt","disabled","setGiphyActive","setShowMoreOptions","_useCountdown","useCountdown","cooldownRemainingSeconds","seconds","_useTheme","useTheme","_useTheme$theme","theme","_useTheme$theme$color","colors","accent_blue","grey","white","_useTheme$theme$messa","messageInput","_useTheme$theme$messa2","giphyCommandInput","createElement","View","style","__self","__source","fileName","lineNumber","columnNumber","backgroundColor","Lightning","pathFill","width","Text","color","AutoCompleteInput","cooldownActive","TouchableOpacity","onPress","testID","CircleClose","exports","areEqual","prevProps","nextProps","prevDisabled","nextDisabled","disabledEqual","MemoizedInputGiphySearch","React","memo","InputGiphySearch","props","_useMessageInputConte","useMessageInputContext","_extends2","displayName"],"sources":["InputGiphySearch.tsx"],"sourcesContent":["import React from 'react';\nimport { StyleSheet, Text, TouchableOpacity, View } from 'react-native';\n\nimport type { ChannelContextValue } from '../../../contexts/channelContext/ChannelContext';\nimport {\n  MessageInputContextValue,\n  useMessageInputContext,\n} from '../../../contexts/messageInputContext/MessageInputContext';\nimport { useTheme } from '../../../contexts/themeContext/ThemeContext';\n\nimport { CircleClose, Lightning } from '../../../icons';\nimport type { DefaultStreamChatGenerics } from '../../../types/types';\nimport { AutoCompleteInput } from '../../AutoCompleteInput/AutoCompleteInput';\nimport { useCountdown } from '../hooks/useCountdown';\n\nconst styles = StyleSheet.create({\n  autoCompleteInputContainer: {\n    alignItems: 'center',\n    flexDirection: 'row',\n    paddingLeft: 8,\n    paddingRight: 10,\n  },\n  giphyContainer: {\n    alignItems: 'center',\n    borderRadius: 12,\n    flexDirection: 'row',\n    height: 24,\n    marginRight: 8,\n    paddingHorizontal: 8,\n  },\n  giphyText: {\n    fontSize: 12,\n    fontWeight: 'bold',\n  },\n});\n\nexport type InputGiphySearchPropsWithContext<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = Pick<\n  MessageInputContextValue<StreamChatGenerics>,\n  'additionalTextInputProps' | 'cooldownEndsAt' | 'setGiphyActive' | 'setShowMoreOptions'\n> &\n  Pick<ChannelContextValue<StreamChatGenerics>, 'disabled'>;\n\nexport const InputGiphySearchWithContext = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>({\n  additionalTextInputProps,\n  cooldownEndsAt,\n  disabled,\n  setGiphyActive,\n  setShowMoreOptions,\n}: InputGiphySearchPropsWithContext<StreamChatGenerics>) => {\n  const { seconds: cooldownRemainingSeconds } = useCountdown(cooldownEndsAt);\n\n  const {\n    theme: {\n      colors: { accent_blue, grey, white },\n      messageInput: {\n        autoCompleteInputContainer,\n        giphyCommandInput: { giphyContainer, giphyText },\n      },\n    },\n  } = useTheme();\n\n  return (\n    <View style={[styles.autoCompleteInputContainer, autoCompleteInputContainer]}>\n      <View style={[styles.giphyContainer, { backgroundColor: accent_blue }, giphyContainer]}>\n        <Lightning height={16} pathFill={white} width={16} />\n        <Text style={[styles.giphyText, { color: white }, giphyText]}>GIPHY</Text>\n      </View>\n\n      <AutoCompleteInput<StreamChatGenerics>\n        additionalTextInputProps={additionalTextInputProps}\n        cooldownActive={!!cooldownRemainingSeconds}\n      />\n      <TouchableOpacity\n        disabled={disabled}\n        onPress={() => {\n          setGiphyActive(false);\n          setShowMoreOptions(true);\n        }}\n        testID='close-button'\n      >\n        <CircleClose height={20} pathFill={grey} width={20} />\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst areEqual = <StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics>(\n  prevProps: InputGiphySearchPropsWithContext<StreamChatGenerics>,\n  nextProps: InputGiphySearchPropsWithContext<StreamChatGenerics>,\n) => {\n  const { disabled: prevDisabled } = prevProps;\n  const { disabled: nextDisabled } = nextProps;\n\n  const disabledEqual = prevDisabled === nextDisabled;\n  if (!disabledEqual) return false;\n\n  return true;\n};\n\nconst MemoizedInputGiphySearch = React.memo(\n  InputGiphySearchWithContext,\n  areEqual,\n) as typeof InputGiphySearchWithContext;\n\nexport type InputGiphySearchProps<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = Partial<InputGiphySearchPropsWithContext<StreamChatGenerics>>;\n\nexport const InputGiphySearch = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  props: InputGiphySearchProps<StreamChatGenerics>,\n) => {\n  const { additionalTextInputProps, cooldownEndsAt, setGiphyActive, setShowMoreOptions } =\n    useMessageInputContext<StreamChatGenerics>();\n\n  return (\n    <MemoizedInputGiphySearch\n      {...{ additionalTextInputProps, cooldownEndsAt, setGiphyActive, setShowMoreOptions }}\n      {...props}\n    />\n  );\n};\n\nInputGiphySearch.displayName = 'InputGiphySearch{messageInput}';\n"],"mappings":"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"}