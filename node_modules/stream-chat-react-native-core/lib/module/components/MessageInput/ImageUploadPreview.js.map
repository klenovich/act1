{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_UploadProgressIndicator","_contexts","_MessageInputContext","_ThemeContext","_TranslationContext","_Close","_Warning","_utils","_this","_jsxFileName","IMAGE_PREVIEW_SIZE","WARNING_ICON_SIZE","styles","StyleSheet","create","dismiss","borderRadius","position","right","top","fileSizeText","fontSize","paddingHorizontal","flatList","paddingBottom","iconContainer","alignItems","flexDirection","justifyContent","itemContainer","height","marginLeft","unsupportedImage","bottom","marginHorizontal","upload","width","warningIconStyle","marginTop","warningText","color","ImageUploadPreviewWithContext","props","enableOfflineSupport","imageUploads","removeImage","uploadImage","_useTheme","useTheme","_useTheme$theme$messa","theme","messageInput","imageUploadPreview","UnsupportedImageTypeIndicator","_ref","indicatorType","_useTheme2","_useTheme2$theme$colo","colors","accent_red","overlay","white","_useTranslationContex","useTranslationContext","t","ProgressIndicatorTypes","NOT_SUPPORTED","createElement","View","style","backgroundColor","__self","__source","fileName","lineNumber","columnNumber","Warning","pathFill","Text","renderItem","_ref2","index","item","getIndicatorTypeForFileState","state","itemMarginForIndex","length","marginRight","UploadProgressIndicator","action","newImage","type","Image","resizeMode","source","uri","file","url","DismissUpload","onPress","id","FlatList","data","getItemLayout","_","offset","horizontal","keyExtractor","_ref3","_useTheme3","_useTheme3$theme","_useTheme3$theme$colo","_useTheme3$theme$mess","dismissIconColor","TouchableOpacity","testID","Close","areEqual","prevProps","nextProps","prevImageUploads","nextImageUploads","every","prevImageUpload","MemoizedImageUploadPreviewWithContext","React","memo","ImageUploadPreview","_useChatContext","useChatContext","_useMessageInputConte","useMessageInputContext","_extends2","exports","displayName"],"sources":["ImageUploadPreview.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  FlatList,\n  Image,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  TouchableOpacityProps,\n  View,\n} from 'react-native';\n\nimport { UploadProgressIndicator } from './UploadProgressIndicator';\n\nimport { ChatContextValue, useChatContext } from '../../contexts';\nimport {\n  ImageUpload,\n  MessageInputContextValue,\n  useMessageInputContext,\n} from '../../contexts/messageInputContext/MessageInputContext';\nimport { useTheme } from '../../contexts/themeContext/ThemeContext';\nimport { useTranslationContext } from '../../contexts/translationContext/TranslationContext';\nimport { Close } from '../../icons/Close';\nimport { Warning } from '../../icons/Warning';\nimport type { DefaultStreamChatGenerics } from '../../types/types';\nimport { getIndicatorTypeForFileState, ProgressIndicatorTypes } from '../../utils/utils';\n\nconst IMAGE_PREVIEW_SIZE = 100;\nconst WARNING_ICON_SIZE = 16;\n\nconst styles = StyleSheet.create({\n  dismiss: {\n    borderRadius: 24,\n    position: 'absolute',\n    right: 8,\n    top: 8,\n  },\n  fileSizeText: {\n    fontSize: 12,\n    paddingHorizontal: 10,\n  },\n  flatList: { paddingBottom: 12 },\n  iconContainer: {\n    alignItems: 'center',\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  itemContainer: {\n    flexDirection: 'row',\n    height: IMAGE_PREVIEW_SIZE,\n    marginLeft: 8,\n  },\n  unsupportedImage: {\n    borderRadius: 20,\n    bottom: 8,\n    flexDirection: 'row',\n    marginHorizontal: 3,\n    position: 'absolute',\n  },\n  upload: {\n    borderRadius: 10,\n    height: IMAGE_PREVIEW_SIZE,\n    width: IMAGE_PREVIEW_SIZE,\n  },\n  warningIconStyle: {\n    borderRadius: 24,\n    marginTop: 6,\n  },\n  warningText: {\n    alignItems: 'center',\n    color: 'black',\n    fontSize: 10,\n    justifyContent: 'center',\n    marginHorizontal: 4,\n  },\n});\n\ntype ImageUploadPreviewPropsWithContext<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = Pick<\n  MessageInputContextValue<StreamChatGenerics>,\n  'imageUploads' | 'removeImage' | 'uploadImage'\n> &\n  Pick<ChatContextValue<StreamChatGenerics>, 'enableOfflineSupport'>;\n\nexport type ImageUploadPreviewProps<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = Partial<ImageUploadPreviewPropsWithContext<StreamChatGenerics>>;\n\ntype ImageUploadPreviewItem = { index: number; item: ImageUpload };\n\nconst ImageUploadPreviewWithContext = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  props: ImageUploadPreviewPropsWithContext<StreamChatGenerics>,\n) => {\n  const { enableOfflineSupport, imageUploads, removeImage, uploadImage } = props;\n\n  const {\n    theme: {\n      messageInput: {\n        imageUploadPreview: { flatList, itemContainer, upload },\n      },\n    },\n  } = useTheme();\n\n  const UnsupportedImageTypeIndicator = ({\n    indicatorType,\n  }: {\n    indicatorType: typeof ProgressIndicatorTypes[keyof typeof ProgressIndicatorTypes] | null;\n  }) => {\n    const {\n      theme: {\n        colors: { accent_red, overlay, white },\n      },\n    } = useTheme();\n\n    const { t } = useTranslationContext();\n    return indicatorType === ProgressIndicatorTypes.NOT_SUPPORTED ? (\n      <View style={[styles.unsupportedImage, { backgroundColor: overlay }]}>\n        <View style={[styles.iconContainer]}>\n          <Warning\n            height={WARNING_ICON_SIZE}\n            pathFill={accent_red}\n            style={styles.warningIconStyle}\n            width={WARNING_ICON_SIZE}\n          />\n          <Text style={[styles.warningText, { color: white }]}>{t('Not supported')}</Text>\n        </View>\n      </View>\n    ) : null;\n  };\n\n  const renderItem = ({ index, item }: ImageUploadPreviewItem) => {\n    const indicatorType = getIndicatorTypeForFileState(item.state, enableOfflineSupport);\n    const itemMarginForIndex = index === imageUploads.length - 1 ? { marginRight: 8 } : {};\n\n    return (\n      <View style={[styles.itemContainer, itemMarginForIndex, itemContainer]}>\n        <UploadProgressIndicator\n          action={() => {\n            uploadImage({ newImage: item });\n          }}\n          style={styles.upload}\n          type={indicatorType}\n        >\n          <Image\n            resizeMode='cover'\n            source={{ uri: item.file.uri || item.url }}\n            style={[styles.upload, upload]}\n          />\n        </UploadProgressIndicator>\n        <DismissUpload\n          onPress={() => {\n            removeImage(item.id);\n          }}\n        />\n        <UnsupportedImageTypeIndicator indicatorType={indicatorType} />\n      </View>\n    );\n  };\n\n  return imageUploads.length > 0 ? (\n    <FlatList\n      data={imageUploads}\n      getItemLayout={(_, index) => ({\n        index,\n        length: IMAGE_PREVIEW_SIZE + 8,\n        offset: (IMAGE_PREVIEW_SIZE + 8) * index,\n      })}\n      horizontal\n      keyExtractor={(item) => item.id}\n      renderItem={renderItem}\n      style={[styles.flatList, flatList]}\n    />\n  ) : null;\n};\n\ntype DismissUploadProps = Pick<TouchableOpacityProps, 'onPress'>;\n\nconst DismissUpload = ({ onPress }: DismissUploadProps) => {\n  const {\n    theme: {\n      colors: { overlay, white },\n      messageInput: {\n        imageUploadPreview: { dismiss, dismissIconColor },\n      },\n    },\n  } = useTheme();\n\n  return (\n    <TouchableOpacity\n      onPress={onPress}\n      style={[styles.dismiss, { backgroundColor: overlay }, dismiss]}\n      testID='remove-image-upload-preview'\n    >\n      <Close pathFill={dismissIconColor || white} />\n    </TouchableOpacity>\n  );\n};\n\nconst areEqual = <StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics>(\n  prevProps: ImageUploadPreviewPropsWithContext<StreamChatGenerics>,\n  nextProps: ImageUploadPreviewPropsWithContext<StreamChatGenerics>,\n) => {\n  const { imageUploads: prevImageUploads } = prevProps;\n  const { imageUploads: nextImageUploads } = nextProps;\n\n  return (\n    prevImageUploads.length === nextImageUploads.length &&\n    prevImageUploads.every(\n      (prevImageUpload, index) => prevImageUpload.state === nextImageUploads[index].state,\n    )\n  );\n};\n\nconst MemoizedImageUploadPreviewWithContext = React.memo(\n  ImageUploadPreviewWithContext,\n  areEqual,\n) as typeof ImageUploadPreviewWithContext;\n\n/**\n * UI Component to preview the images set for upload\n */\nexport const ImageUploadPreview = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  props: ImageUploadPreviewProps<StreamChatGenerics>,\n) => {\n  const { enableOfflineSupport } = useChatContext<StreamChatGenerics>();\n  const { imageUploads, removeImage, uploadImage } = useMessageInputContext<StreamChatGenerics>();\n\n  return (\n    <MemoizedImageUploadPreviewWithContext\n      {...{ imageUploads, removeImage, uploadImage }}\n      {...{ enableOfflineSupport }}\n      {...props}\n    />\n  );\n};\n\nImageUploadPreview.displayName = 'ImageUploadPreview{messageInput{imageUploadPreview}}';\n"],"mappings":"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"}