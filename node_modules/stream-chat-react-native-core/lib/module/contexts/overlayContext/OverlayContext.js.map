{"version":3,"names":["_react","_interopRequireWildcard","require","_defaultBaseContextValue","_getDisplayName","_isTestEnvironment","_this","_jsxFileName","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","OverlayContext","React","createContext","DEFAULT_BASE_CONTEXT_VALUE","exports","useOverlayContext","contextValue","useContext","isTestEnvironment","Error","withOverlayContext","Component","WithOverlayContextComponent","props","overlayContext","createElement","_extends2","__self","__source","fileName","lineNumber","columnNumber","displayName","getDisplayName"],"sources":["OverlayContext.tsx"],"sourcesContent":["import React, { useContext } from 'react';\n\nimport type { BottomSheetMethods } from '@gorhom/bottom-sheet/lib/typescript/types';\nimport type { Attachment } from 'stream-chat';\n\nimport type { AttachmentPickerProps } from '../../components/AttachmentPicker/AttachmentPicker';\nimport type { ImageGalleryCustomComponents } from '../../components/ImageGallery/ImageGallery';\n\nimport type { MessageType } from '../../components/MessageList/hooks/useMessageList';\nimport type { DefaultStreamChatGenerics } from '../../types/types';\nimport type { Streami18n } from '../../utils/Streami18n';\nimport type { AttachmentPickerContextValue } from '../attachmentPickerContext/AttachmentPickerContext';\nimport type { MessageOverlayContextValue } from '../messageOverlayContext/MessageOverlayContext';\nimport type { DeepPartial } from '../themeContext/ThemeContext';\nimport type { Theme } from '../themeContext/utils/theme';\nimport { DEFAULT_BASE_CONTEXT_VALUE } from '../utils/defaultBaseContextValue';\n\nimport { getDisplayName } from '../utils/getDisplayName';\nimport { isTestEnvironment } from '../utils/isTestEnvironment';\n\nexport type Overlay = 'alert' | 'gallery' | 'message' | 'none';\n\nexport type OverlayContextValue = {\n  overlay: Overlay;\n  setOverlay: React.Dispatch<React.SetStateAction<Overlay>>;\n  style?: DeepPartial<Theme>;\n  translucentStatusBar?: boolean;\n};\n\nexport const OverlayContext = React.createContext(\n  DEFAULT_BASE_CONTEXT_VALUE as OverlayContextValue,\n);\n\nexport type OverlayProviderProps<\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n> = Partial<AttachmentPickerProps> &\n  Partial<\n    Pick<\n      AttachmentPickerContextValue,\n      | 'attachmentPickerBottomSheetHeight'\n      | 'attachmentSelectionBarHeight'\n      | 'bottomInset'\n      | 'CameraSelectorIcon'\n      | 'FileSelectorIcon'\n      | 'ImageSelectorIcon'\n      | 'topInset'\n    >\n  > &\n  ImageGalleryCustomComponents<StreamChatGenerics> &\n  Partial<\n    Pick<\n      MessageOverlayContextValue<StreamChatGenerics>,\n      | 'MessageActionList'\n      | 'MessageActionListItem'\n      | 'OverlayReactionList'\n      | 'OverlayReactions'\n      | 'OverlayReactionsAvatar'\n    >\n  > &\n  Pick<OverlayContextValue, 'translucentStatusBar'> & {\n    autoPlayVideo?: boolean;\n    /**\n     * The giphy version to render - check the keys of the [Image Object](https://developers.giphy.com/docs/api/schema#image-object) for possible values. Uses 'fixed_height' by default\n     * */\n    closePicker?: (ref: React.RefObject<BottomSheetMethods>) => void;\n    error?: boolean | Error;\n    giphyVersion?: keyof NonNullable<Attachment['giphy']>;\n    /** https://github.com/GetStream/stream-chat-react-native/wiki/Internationalization-(i18n) */\n    i18nInstance?: Streami18n;\n    imageGalleryGridHandleHeight?: number;\n    imageGalleryGridSnapPoints?: [string | number, string | number];\n    isMyMessage?: boolean;\n    isThreadMessage?: boolean;\n    message?: MessageType<StreamChatGenerics>;\n    messageReactions?: boolean;\n    messageTextNumberOfLines?: number;\n    numberOfImageGalleryGridColumns?: number;\n    openPicker?: (ref: React.RefObject<BottomSheetMethods>) => void;\n    value?: Partial<OverlayContextValue>;\n  };\n\nexport const useOverlayContext = () => {\n  const contextValue = useContext(OverlayContext);\n\n  if (contextValue === DEFAULT_BASE_CONTEXT_VALUE && !isTestEnvironment()) {\n    throw new Error(\n      `The useOverlayContext hook was called outside the OverlayContext Provider. Make sure you have configured OverlayProvider component correctly - https://getstream.io/chat/docs/sdk/reactnative/basics/hello_stream_chat/#overlay-provider`,\n    );\n  }\n\n  return contextValue;\n};\n\nexport const withOverlayContext = <\n  StreamChatGenerics extends DefaultStreamChatGenerics = DefaultStreamChatGenerics,\n>(\n  Component: React.ComponentType<StreamChatGenerics>,\n): React.FC<Omit<StreamChatGenerics, keyof OverlayContextValue>> => {\n  const WithOverlayContextComponent = (\n    props: Omit<StreamChatGenerics, keyof OverlayContextValue>,\n  ) => {\n    const overlayContext = useOverlayContext();\n\n    return <Component {...(props as StreamChatGenerics)} {...overlayContext} />;\n  };\n  WithOverlayContextComponent.displayName = `WithOverlayContext${getDisplayName(\n    Component as React.ComponentType,\n  )}`;\n  return WithOverlayContextComponent;\n};\n"],"mappings":";;;;;;;AAAA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AAeA,IAAAC,wBAAA,GAAAD,OAAA;AAEA,IAAAE,eAAA,GAAAF,OAAA;AACA,IAAAG,kBAAA,GAAAH,OAAA;AAA+D,IAAAI,KAAA;EAAAC,YAAA;AAAA,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,yBAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAR,wBAAAY,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,aAAAE,OAAA,CAAAF,GAAA,yBAAAA,GAAA,uCAAAA,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,cAAAN,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAWxD,IAAMW,cAAc,GAAGC,iBAAK,CAACC,aAAa,CAC/CC,mDACF,CAAC;AAACC,OAAA,CAAAJ,cAAA,GAAAA,cAAA;AAkDK,IAAMK,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAA,EAAS;EACrC,IAAMC,YAAY,GAAG,IAAAC,iBAAU,EAACP,cAAc,CAAC;EAE/C,IAAIM,YAAY,KAAKH,mDAA0B,IAAI,CAAC,IAAAK,oCAAiB,EAAC,CAAC,EAAE;IACvE,MAAM,IAAIC,KAAK,2OAEf,CAAC;EACH;EAEA,OAAOH,YAAY;AACrB,CAAC;AAACF,OAAA,CAAAC,iBAAA,GAAAA,iBAAA;AAEK,IAAMK,kBAAkB,GAAG,SAArBA,kBAAkBA,CAG7BC,SAAkD,EACgB;EAClE,IAAMC,2BAA2B,GAAG,SAA9BA,2BAA2BA,CAC/BC,KAA0D,EACvD;IACH,IAAMC,cAAc,GAAGT,iBAAiB,CAAC,CAAC;IAE1C,OAAOnC,MAAA,YAAA6C,aAAA,CAACJ,SAAS,MAAAK,SAAA,iBAAMH,KAAK,EAA6BC,cAAc;MAAAG,MAAA,EAAAzC,KAAA;MAAA0C,QAAA;QAAAC,QAAA,EAAA1C,YAAA;QAAA2C,UAAA;QAAAC,YAAA;MAAA;IAAA,EAAG,CAAC;EAC7E,CAAC;EACDT,2BAA2B,CAACU,WAAW,0BAAwB,IAAAC,8BAAc,EAC3EZ,SACF,CAAG;EACH,OAAOC,2BAA2B;AACpC,CAAC;AAACR,OAAA,CAAAM,kBAAA,GAAAA,kBAAA"}