{"version":3,"names":["_react","_interopRequireWildcard","require","_merge","_interopRequireDefault","_theme","_defaultBaseContextValue","_isTestEnvironment","_this","_jsxFileName","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","mergeThemes","params","style","theme","finalTheme","keys","length","JSON","parse","stringify","defaultTheme","merge","exports","ThemeContext","React","createContext","DEFAULT_BASE_CONTEXT_VALUE","ThemeProvider","props","children","mergedStyle","modifiedTheme","useMemo","createElement","Provider","value","__self","__source","fileName","lineNumber","columnNumber","useTheme","useContext","isTestEnvironment","Error"],"sources":["ThemeContext.tsx"],"sourcesContent":["import React, { PropsWithChildren, useContext, useMemo } from 'react';\n\nimport merge from 'lodash/merge';\n\nimport { defaultTheme, Theme } from './utils/theme';\n\nimport { DEFAULT_BASE_CONTEXT_VALUE } from '../utils/defaultBaseContextValue';\nimport { isTestEnvironment } from '../utils/isTestEnvironment';\n\nexport type DeepPartial<T> = {\n  [P in keyof T]?: DeepPartial<T[P]>;\n};\n\nexport type ThemeProviderInputValue = {\n  mergedStyle?: Theme;\n  style?: DeepPartial<Theme>;\n};\n\nexport type MergedThemesParams = {\n  style?: DeepPartial<Theme>;\n  theme?: Theme;\n};\n\nexport type ThemeContextValue = {\n  theme: Theme;\n};\n\nexport const mergeThemes = (params: MergedThemesParams) => {\n  const { style, theme } = params;\n  const finalTheme = (\n    !theme || Object.keys(theme).length === 0\n      ? JSON.parse(JSON.stringify(defaultTheme))\n      : JSON.parse(JSON.stringify(theme))\n  ) as Theme;\n\n  if (style) {\n    merge(finalTheme, style);\n  }\n\n  return finalTheme;\n};\n\nexport const ThemeContext = React.createContext(DEFAULT_BASE_CONTEXT_VALUE as Theme);\n\nexport const ThemeProvider: React.FC<\n  PropsWithChildren<ThemeProviderInputValue & Partial<ThemeContextValue>>\n> = (props) => {\n  const { children, mergedStyle, style, theme } = props;\n\n  const modifiedTheme = useMemo(() => {\n    if (mergedStyle) {\n      return mergedStyle;\n    }\n\n    return mergeThemes({ style, theme });\n  }, [mergedStyle, style, theme]);\n\n  return <ThemeContext.Provider value={modifiedTheme}>{children}</ThemeContext.Provider>;\n};\n\nexport const useTheme = () => {\n  const theme = useContext(ThemeContext);\n\n  if (theme === DEFAULT_BASE_CONTEXT_VALUE && !isTestEnvironment()) {\n    throw new Error(\n      `The useThemeContext hook was called outside the ThemeContext Provider. Make sure you have configured OverlayProvider component correctly - https://getstream.io/chat/docs/sdk/reactnative/basics/hello_stream_chat/#overlay-provider`,\n    );\n  }\n  return { theme };\n};\n"],"mappings":"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"}